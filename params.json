{"name":"Pmlproject","tagline":"","body":"<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n\r\n<head>\r\n\r\n<meta charset=\"utf-8\">\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n<meta name=\"generator\" content=\"pandoc\" />\r\n\r\n<meta name=\"author\" content=\"Pite\" />\r\n\r\n\r\n<title>ML Project</title>\r\n\r\n<script src=\"data:application/x-javascript,%2F%2A%21%20jQuery%20v1%2E11%2E0%20%7C%20%28c%29%202005%2C%202014%20jQuery%20Foundation%2C%20Inc%2E%20%7C%20jquery%2Eorg%2Flicense%20%2A%2F%0A%21function%28a%2Cb%29%7B%22object%22%3D%3Dtypeof%20module%26%26%22object%22%3D%3Dtypeof%20module%2Eexports%3Fmodule%2Eexports%3Da%2Edocument%3Fb%28a%2C%210%29%3Afunction%28a%29%7Bif%28%21a%2Edocument%29throw%20new%20Error%28%22jQuery%20requires%20a%20window%20with%20a%20document%22%29%3Breturn%20b%28a%29%7D%3Ab%28a%29%7D%28%...(line truncated)...\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n<link href=\"data:text/css,%2F%2A%21%0A%20%2A%20Bootstrap%20v2%2E3%2E2%0A%20%2A%0A%20%2A%20Copyright%202013%20Twitter%2C%20Inc%0A%20%2A%20Licensed%20under%20the%20Apache%20License%20v2%2E0%0A%20%2A%20http%3A%2F%2Fwww%2Eapache%2Eorg%2Flicenses%2FLICENSE%2D2%2E0%0A%20%2A%0A%20%2A%20Designed%20and%20built%20with%20all%20the%20love%20in%20the%20world%20by%20%40mdo%20and%20%40fat%2E%0A%20%2A%2F%2Eclearfix%7B%2Azoom%3A1%7D%2Eclearfix%3Abefore%2C%2Eclearfix%3Aafter%7Bdisplay%3Atable%3Bline%2Dheight%3A0%3Bcontent%3A...(line truncated)...\r\n<link href=\"data:text/css,%2F%2A%21%0A%20%2A%20Bootstrap%20Responsive%20v2%2E3%2E2%0A%20%2A%0A%20%2A%20Copyright%202013%20Twitter%2C%20Inc%0A%20%2A%20Licensed%20under%20the%20Apache%20License%20v2%2E0%0A%20%2A%20http%3A%2F%2Fwww%2Eapache%2Eorg%2Flicenses%2FLICENSE%2D2%2E0%0A%20%2A%0A%20%2A%20Designed%20and%20built%20with%20all%20the%20love%20in%20the%20world%20by%20%40mdo%20and%20%40fat%2E%0A%20%2A%2F%2Eclearfix%7B%2Azoom%3A1%7D%2Eclearfix%3Abefore%2C%2Eclearfix%3Aafter%7Bdisplay%3Atable%3Bline%2Dheight%3A0...(line truncated)...\r\n<script src=\"data:application/x-javascript,%2F%2A%21%0A%2A%20Bootstrap%2Ejs%20by%20%40fat%20%26%20%40mdo%0A%2A%20Copyright%202013%20Twitter%2C%20Inc%2E%0A%2A%20http%3A%2F%2Fwww%2Eapache%2Eorg%2Flicenses%2FLICENSE%2D2%2E0%2Etxt%0A%2A%2F%0A%21function%28e%29%7B%22use%20strict%22%3Be%28function%28%29%7Be%2Esupport%2Etransition%3Dfunction%28%29%7Bvar%20e%3Dfunction%28%29%7Bvar%20e%3Ddocument%2EcreateElement%28%22bootstrap%22%29%2Ct%3D%7BWebkitTransition%3A%22webkitTransitionEnd%22%2CMozTransition%3A%22transitio...(line truncated)...\r\n\r\n<style type=\"text/css\">code{white-space: pre;}</style>\r\n<link href=\"data:text/css,pre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0A%20color%3A%20rgb%28104%2C%20118%2C%20135%29%0A%7D%0A%0Apre%20%2Eliteral%20%7B%0A%20color%3A%20%23990073%0A%7D%0A%0Apre%20%2Enumber%20%7B%0A%20color%3A%20%23099%3B%0A%7D%0A%0Apre%20%2Ecomment%20%7B%0A%20color%3A%20%23998%3B%0A%20font%2Dstyle%3A%20italic%0A%7D%0A%0Apre%20%2Ekeyword%20%7B%0A%20color%3A%20%23900%3B%0A%20font%2Dweight%3A%20bold%0A%7D%0A%0Apre%20%2Eidentifier%20%7B%0A%20color%3A%20rgb%280%2C%200%2C%200%29%3B%0A%7D%0A%0Apre%2...(line truncated)...\r\n<script src=\"data:application/x-javascript,%0Avar%20hljs%3Dnew%20function%28%29%7Bfunction%20m%28p%29%7Breturn%20p%2Ereplace%28%2F%26%2Fgm%2C%22%26amp%3B%22%29%2Ereplace%28%2F%3C%2Fgm%2C%22%26lt%3B%22%29%7Dfunction%20f%28r%2Cq%2Cp%29%7Breturn%20RegExp%28q%2C%22m%22%2B%28r%2EcI%3F%22i%22%3A%22%22%29%2B%28p%3F%22g%22%3A%22%22%29%29%7Dfunction%20b%28r%29%7Bfor%28var%20p%3D0%3Bp%3Cr%2EchildNodes%2Elength%3Bp%2B%2B%29%7Bvar%20q%3Dr%2EchildNodes%5Bp%5D%3Bif%28q%2EnodeName%3D%3D%22CODE%22%29%7Breturn%20q%7Dif%28%2...(line truncated)...\r\n<style type=\"text/css\">\r\n  pre:not([class]) {\r\n    background-color: white;\r\n  }\r\n</style>\r\n<script type=\"text/javascript\">\r\nif (window.hljs && document.readyState && document.readyState === \"complete\") {\r\n   window.setTimeout(function() {\r\n      hljs.initHighlighting();\r\n   }, 0);\r\n}\r\n</script>\r\n\r\n\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n<style type=\"text/css\">\r\n.main-container {\r\n  max-width: 940px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n</style>\r\n<div class=\"container-fluid main-container\">\r\n\r\n\r\n<div id=\"header\">\r\n<h1 class=\"title\">ML Project</h1>\r\n<h4 class=\"author\"><em>Pite</em></h4>\r\n<h4 class=\"date\"><em>Monday, May 18, 2015</em></h4>\r\n</div>\r\n\r\n\r\n<p>In this particular project, we shall be looking to apply Machine Learning algorithm to classify several types of physical activities using the data about the movement of users’ body. We first load necessary packages</p>\r\n<pre class=\"r\"><code>library(caret)</code></pre>\r\n<pre><code>## Warning: package 'caret' was built under R version 3.1.3</code></pre>\r\n<pre><code>## Loading required package: lattice\r\n## Loading required package: ggplot2</code></pre>\r\n<pre class=\"r\"><code>library(randomForest)</code></pre>\r\n<pre><code>## Warning: package 'randomForest' was built under R version 3.1.3</code></pre>\r\n<pre><code>## randomForest 4.6-10\r\n## Type rfNews() to see new features/changes/bug fixes.</code></pre>\r\n<p>Then, we read the data</p>\r\n<pre class=\"r\"><code>train&lt;-read.csv(&quot;pml-training.csv&quot;)\r\nfinal&lt;-read.csv(&quot;pml-testing.csv&quot;)</code></pre>\r\n<p>Note that I am calling the last 20 test cases as the ‘final’ training set as I will split the data in the training set for cross-validations.By looking at the data, we can see that the variables with the name begining with ‘kurtosis’, ‘skewness’ etc. have a lot of missing values(only around 1/20 is recorded+all missing in the final set). So, we can take those variables out of our model.</p>\r\n<pre class=\"r\"><code>factors&lt;-colnames(train)\r\nsmallTrain&lt;-train[,-c(grep('kurtosis',factors),grep('skewness',factors),grep('avg',factors),grep('var',factors)\r\n          ,grep('stddev',factors),grep('min',factors),grep('max',factors),grep('amplitude',factors))]\r\nsmallFinal&lt;-final[,-c(grep('kurtosis',factors),grep('skewness',factors),grep('avg',factors),grep('var',factors)\r\n                    ,grep('stddev',factors),grep('min',factors),grep('max',factors),grep('amplitude',factors))]\r\n#also first 7 columns are irrelevant\r\nused&lt;-smallTrain[,8:60]\r\nfinalUsed&lt;-smallFinal[,8:60]</code></pre>\r\n<p>Now that we have tidied our data, we will be looking to train our model. As we still have 53 variables left, it is still questionable if our model will lead to overfitting. Hence, we split our data into 70% training and 30% testing.</p>\r\n<pre class=\"r\"><code>inTrain&lt;-createDataPartition(used$classe,p=0.7,list=FALSE)\r\ntrainUsed&lt;-used[inTrain,]\r\ntestUsed&lt;-used[-inTrain,]</code></pre>\r\n<p>Since this is a classification problem, the most natural way of training this would be via decision trees. However, building just one tree seems to have quite a lot of variation to how variables are selected. We instead use the Random Forest method which takes the votes from 500 trees and decide the outcomes.</p>\r\n<pre class=\"r\"><code>modFit&lt;-randomForest(classe~.,data=trainUsed)\r\nmodFit</code></pre>\r\n<pre><code>## \r\n## Call:\r\n##  randomForest(formula = classe ~ ., data = trainUsed) \r\n##                Type of random forest: classification\r\n##                      Number of trees: 500\r\n## No. of variables tried at each split: 7\r\n## \r\n##         OOB estimate of  error rate: 0.54%\r\n## Confusion matrix:\r\n##      A    B    C    D    E  class.error\r\n## A 3903    3    0    0    0 0.0007680492\r\n## B   14 2640    4    0    0 0.0067720090\r\n## C    0   15 2379    2    0 0.0070951586\r\n## D    0    0   26 2224    2 0.0124333925\r\n## E    0    0    3    5 2517 0.0031683168</code></pre>\r\n<p>This have quite a small in sample rate(missing only 73 out of 13737 observations). However, this could be resulted from overfitting. Hence, we verify it on the ‘train’ set that we split earlier. We can then construct our confusion matrix. This is still a very good fit(missing ~35 out of 5885). So, we can expect the out of sample error to be very small(&lt;1%).</p>\r\n<pre class=\"r\"><code>predicted&lt;-predict(modFit,testUsed)\r\ntable(predicted,testUsed$classe)</code></pre>\r\n<pre><code>##          \r\n## predicted    A    B    C    D    E\r\n##         A 1672    3    0    0    0\r\n##         B    2 1132    7    0    0\r\n##         C    0    4 1019   10    1\r\n##         D    0    0    0  954    2\r\n##         E    0    0    0    0 1079</code></pre>\r\n<p>We can then build the final prediction on our ‘final’ test set</p>\r\n<pre class=\"r\"><code>answers&lt;-as.character(predict(modFit,finalUsed))</code></pre>\r\n<p>In conclusion, although this Machine Learning algorithm gives very accurate prediction, it could take a really long time to run. We might be able to reduce the complexity of our computation for further scaling. We can look at the Gini importance factor to see which factor is the most influential and leace those that is not as important.</p>\r\n<pre class=\"r\"><code>importance(modFit)</code></pre>\r\n<pre><code>##                      MeanDecreaseGini\r\n## roll_belt                   880.37479\r\n## pitch_belt                  484.88215\r\n## yaw_belt                    604.49142\r\n## total_accel_belt            159.71593\r\n## gyros_belt_x                 64.91080\r\n## gyros_belt_y                 78.43052\r\n## gyros_belt_z                218.99166\r\n## accel_belt_x                 81.06290\r\n## accel_belt_y                 90.27144\r\n## accel_belt_z                275.01726\r\n## magnet_belt_x               177.03496\r\n## magnet_belt_y               266.70110\r\n## magnet_belt_z               274.61923\r\n## roll_arm                    232.71762\r\n## pitch_arm                   111.34188\r\n## yaw_arm                     177.60961\r\n## total_accel_arm              74.78201\r\n## gyros_arm_x                  95.06065\r\n## gyros_arm_y                  98.03659\r\n## gyros_arm_z                  43.23709\r\n## accel_arm_x                 162.83763\r\n## accel_arm_y                 103.56164\r\n## accel_arm_z                  92.76430\r\n## magnet_arm_x                180.16246\r\n## magnet_arm_y                165.87862\r\n## magnet_arm_z                131.83883\r\n## roll_dumbbell               294.50252\r\n## pitch_dumbbell              129.68295\r\n## yaw_dumbbell                180.04039\r\n## total_accel_dumbbell        199.37789\r\n## gyros_dumbbell_x             92.08904\r\n## gyros_dumbbell_y            181.78357\r\n## gyros_dumbbell_z             62.24341\r\n## accel_dumbbell_x            167.54297\r\n## accel_dumbbell_y            293.98423\r\n## accel_dumbbell_z            236.34501\r\n## magnet_dumbbell_x           326.31522\r\n## magnet_dumbbell_y           475.20248\r\n## magnet_dumbbell_z           527.56092\r\n## roll_forearm                414.35606\r\n## pitch_forearm               559.11542\r\n## yaw_forearm                 121.97627\r\n## total_accel_forearm          77.30833\r\n## gyros_forearm_x              56.48817\r\n## gyros_forearm_y              88.69932\r\n## gyros_forearm_z              59.35902\r\n## accel_forearm_x             219.59574\r\n## accel_forearm_y              98.73804\r\n## accel_forearm_z             168.74359\r\n## magnet_forearm_x            155.28918\r\n## magnet_forearm_y            145.62481\r\n## magnet_forearm_z            201.74875</code></pre>\r\n\r\n\r\n</div>\r\n\r\n<script>\r\n\r\n// add bootstrap table styles to pandoc tables\r\n$(document).ready(function () {\r\n  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');\r\n});\r\n\r\n</script>\r\n\r\n<!-- dynamically load mathjax for compatibility with self-contained -->\r\n<script>\r\n  (function () {\r\n    var script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src  = \"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\";\r\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n  })();\r\n</script>\r\n\r\n</body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}